<!DOCTYPE html>
<html>
  <head>
    <title>Auth0.js Demo Examples</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/auth0.js"></script>
  </head>
  <body class="container">

    <input class="login-username" value="johnfoo@gmail.com" />
    <input class="login-scope" value="openid" />
    <input class="login-response-type" value="token" />
    <input type="password" class="login-password" value="1234" />
    <input type="button" class="login-redirect-usernamepassword" value="redirect usernamepassword" />
    <input type="button" class="login-redirect-authorize" value="redirect authorize" />

    <div id="err"></div>
    <div id="result"></div>

    <script type="text/javascript">

      var webAuth = new auth0.WebAuth({
        domain: 'brucke.auth0.com',
        redirectUri: 'http://localhost:3000/example/test.html',
        clientID: 'k5u3o2fiAA8XweXEEX604KCwCjzjtMU6'
      });

      $('.login-redirect-usernamepassword').click(function (e) {
        e.preventDefault();

        webAuth.redirect.loginWithCredentials({
          connection: 'acme',
          username: $('.login-username').val(),
          password: $('.login-password').val(),
          scope: $('.login-scope').val(),
          responseType: $('.login-response-type').val()
        }, function (err) {
          $('#err').html(JSON.stringify(err));
        });
      });

      $('.login-redirect-authorize').click(function (e) {
        e.preventDefault();

        webAuth.authorize({
          scope: $('.login-scope').val(),
          responseType: $('.login-response-type').val()
        });
      });

      webAuth.parseHash(function (err, result) {
        if (err) {
          $('#err').html(JSON.stringify(err));
        }

        if (result) {
          $('#result').html(JSON.stringify(result));
        }
      });

      $( document ).ready(function() {
        $(document.body).append($('<div class="loaded">LOADED</div>'));
      });
    </script>
  </body>
</html>
